<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>다중 보일러 스마트 난방 시스템 - 디지털 특허 브로슈어</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-in { animation: fadeIn 0.5s ease-out forwards; }

        @keyframes flow {
            0% { stroke-dashoffset: 20; }
            100% { stroke-dashoffset: 0; }
        }
        .flowing-pipe { 
            stroke-dasharray: 5; 
            animation: flow 1s linear infinite; 
        }
    </style>
</head>
<body class="bg-orange-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons ---
        const Sun = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>;
        const Thermometer = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>;
        const Activity = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>;
        const Layers = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"/><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"/><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"/></svg>;
        const Play = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>;
        const Pause = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>;

        // --- Main Component ---
        const GreenhouseSystem = () => {
            const [activeTab, setActiveTab] = useState('overview');
            const [activeBoiler, setActiveBoiler] = useState(0); // 0: None, 1: Boiler1, 2: Boiler2, 3: Boiler3
            const [isSimulating, setIsSimulating] = useState(false);

            // Patent Info
            const patentInfo = {
                title: "다중 보일러를 이용한 비닐하우스의 난방시스템",
                patentNumber: "10-2667124",
                holder: "김근섭, 김옥형",
                summary: "다수의 태양광 축열 보일러를 교차 가동하여 온도를 일정하게 유지하고, 이중 골조 공기층과 지중 매설 파이프로 난방 효율을 극대화한 시스템.",
                keywords: ["다중 보일러 순환", "이중 골조 공기층", "지중 난방", "태양광 축열"]
            };

            // Parts Data
            const partsData = {
                "10": { name: "다중 보일러 유닛", desc: "병렬 연결된 3개 이상의 전기 보일러 (10-1, 10-2, 10-3)" },
                "11": { name: "전자변 & 순환라인", desc: "가동 중인 보일러만 개방하여 온수를 공급하는 제어 밸브" },
                "20": { name: "이중 골조 프레임", desc: "내부(21)와 외부(22) 프레임 사이에 공기층(20a)을 형성하여 단열" },
                "30": { name: "태양광 패널", desc: "외부 프레임 상단에 설치되어 보일러 축열 에너지원 공급" },
                "U": { name: "지중 매설 파이프", desc: "하우스 외곽 땅속에 매설되어 한파 침투 및 결빙 방지" }
            };

            // Simulation Logic
            useEffect(() => {
                let interval;
                if (isSimulating) {
                    interval = setInterval(() => {
                        setActiveBoiler(prev => (prev % 3) + 1);
                    }, 2000); // Change boiler every 2 seconds
                } else {
                    setActiveBoiler(0);
                }
                return () => clearInterval(interval);
            }, [isSimulating]);

            // --- SVG Diagram ---
            const SchematicDiagram = () => {
                return (
                    <div className="relative w-full h-[450px] bg-slate-900 rounded-xl border border-slate-700 overflow-hidden flex flex-col items-center justify-center shadow-2xl">
                        {/* Title & Control */}
                        <div className="absolute top-4 left-4 z-10 bg-white/10 backdrop-blur px-3 py-1 rounded text-xs text-white border border-white/20">
                            FIG. 1 System Configuration
                        </div>
                        <button 
                            onClick={(e) => { e.stopPropagation(); setIsSimulating(!isSimulating); }}
                            className={`absolute top-4 right-4 z-20 px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2 shadow-lg transition-all ${isSimulating ? 'bg-red-500 text-white animate-pulse' : 'bg-blue-600 text-white hover:bg-blue-500'}`}
                        >
                            {isSimulating ? <><Pause size={14}/> 작동 중지</> : <><Play size={14}/> 순환 가동 시뮬레이션</>}
                        </button>

                        <svg viewBox="0 0 600 400" className="w-full h-full max-w-2xl">
                            {/* Defs for gradients */}
                            <defs>
                                <linearGradient id="boilerGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" stopColor="#475569" />
                                    <stop offset="100%" stopColor="#1e293b" />
                                </linearGradient>
                                <linearGradient id="activeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" stopColor="#ef4444" />
                                    <stop offset="100%" stopColor="#991b1b" />
                                </linearGradient>
                            </defs>

                            {/* Background: Greenhouse Structure */}
                            <path d="M50 350 L50 150 Q 300 0 550 150 L550 350" fill="none" stroke="#64748b" strokeWidth="2" strokeDasharray="5,5" opacity="0.5"/>
                            <text x="500" y="340" className="text-[10px] fill-slate-500">Greenhouse</text>

                            {/* 30: Solar Panel */}
                            <rect x="250" y="40" width="100" height="20" fill="#3b82f6" opacity="0.8" transform="rotate(5 300 50)" />
                            <text x="300" y="30" textAnchor="middle" className="text-[10px] fill-blue-400">30. 태양광패널</text>

                            {/* Boilers (10-1, 10-2, 10-3) */}
                            {[1, 2, 3].map((id, index) => {
                                const xPos = 100 + (index * 150);
                                const isActive = activeBoiler === id;
                                return (
                                    <g key={id} className="transition-all duration-500">
                                        {/* Boiler Box */}
                                        <rect 
                                            x={xPos} y="150" width="100" height="80" rx="8" 
                                            fill={isActive ? "url(#activeGradient)" : "url(#boilerGradient)"} 
                                            stroke={isActive ? "#fca5a5" : "#94a3b8"} strokeWidth="2"
                                            className={isActive ? "filter drop-shadow-[0_0_10px_rgba(239,68,68,0.6)]" : ""}
                                        />
                                        <text x={xPos + 50} y="195" textAnchor="middle" className="text-sm font-bold fill-white">
                                            {isActive ? "가동 중" : `보일러 ${id}`}
                                        </text>
                                        
                                        {/* Status Indicator */}
                                        <circle cx={xPos + 85} cy="165" r="5" fill={isActive ? "#4ade80" : "#ef4444"} />

                                        {/* Piping connection */}
                                        <line x1={xPos + 50} y1="230" x2={xPos + 50} y2="280" stroke="#94a3b8" strokeWidth="4" />
                                        
                                        {/* Valve (11a) */}
                                        <path d={`M${xPos+40} 250 L${xPos+60} 260 L${xPos+60} 250 L${xPos+40} 260 Z`} fill={isActive ? "#4ade80" : "#64748b"} />
                                    </g>
                                );
                            })}

                            {/* Main Circulation Line (A) */}
                            {/* 1. Base Structure (Always visible) */}
                            <rect x="80" y="280" width="440" height="60" rx="10" fill="#334155" stroke="#94a3b8" strokeWidth="2" />
                            
                            {/* 2. Flow Animation Overlay (Visible only when simulating) */}
                            {/* 테두리 선에도 물이 흐르는 효과 추가 */}
                            <rect 
                                x="80" y="280" width="440" height="60" rx="10" 
                                fill="none" 
                                stroke="#fca5a5" 
                                strokeWidth="3" 
                                className={`transition-opacity duration-300 ${isSimulating ? "opacity-100 flowing-pipe" : "opacity-0"}`} 
                            />
                            
                            <text x="300" y="315" textAnchor="middle" className="text-sm font-bold fill-slate-300">온수 순환 라인 (A)</text>
                            
                            {/* Water Flow Animation (Connections) */}
                            {isSimulating && (
                                <g>
                                    {/* Flow from active boiler */}
                                    <line 
                                        x1={100 + ((activeBoiler-1) * 150) + 50} y1="230" 
                                        x2={100 + ((activeBoiler-1) * 150) + 50} y2="280" 
                                        stroke="#fca5a5" strokeWidth="2" className="flowing-pipe" 
                                    />
                                    {/* Horizontal Flow (Inside Line) */}
                                    <line x1="100" y1="300" x2="500" y2="300" stroke="#fca5a5" strokeWidth="2" className="flowing-pipe" />
                                </g>
                            )}

                            {/* Underground Pipe (U) - Special feature */}
                            <path d="M520 300 L560 300 L560 380 L50 380 L50 300 L80 300" fill="none" stroke="#f59e0b" strokeWidth="3" strokeDasharray="4" opacity="0.7"/>
                            <text x="300" y="390" textAnchor="middle" className="text-[10px] fill-amber-500 font-bold">지중 매설 파이프 (동결 방지)</text>

                        </svg>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-orange-50/50 font-sans text-slate-800">
                    {/* Header */}
                    <header className="bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-xl border-b-4 border-orange-800">
                        <div className="max-w-6xl mx-auto px-4 py-10">
                            <div className="flex flex-col md:flex-row items-start md:items-end justify-between gap-4">
                                <div>
                                    <div className="flex items-center gap-2 mb-2">
                                        <span className="bg-white/20 px-2 py-0.5 rounded text-xs font-bold backdrop-blur-sm border border-white/30">등록특허 {patentInfo.patentNumber}</span>
                                        <span className="text-orange-100 text-xs">{patentInfo.holder}</span>
                                    </div>
                                    <h1 className="text-3xl md:text-4xl font-bold mb-2">{patentInfo.title}</h1>
                                    <p className="text-orange-100 max-w-2xl leading-relaxed text-sm">
                                        {patentInfo.summary}
                                    </p>
                                </div>
                                <div className="flex flex-wrap gap-2 justify-end">
                                    {patentInfo.keywords.map((kw, i) => (
                                        <span key={i} className="px-3 py-1 bg-black/20 rounded-full text-xs border border-white/10 backdrop-blur-md">#{kw}</span>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Navigation */}
                    <div className="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-orange-200 shadow-sm">
                        <div className="max-w-6xl mx-auto px-4">
                            <nav className="flex space-x-8 overflow-x-auto">
                                {[
                                    { id: 'overview', icon: <Thermometer size={18}/>, label: '기술 개요' },
                                    { id: 'structure', icon: <Activity size={18}/>, label: '시스템 구조도' },
                                    { id: 'logic', icon: <Sun size={18}/>, label: '순환 프로세스' },
                                    { id: 'effect', icon: <Layers size={18}/>, label: '기대 효과' }
                                ].map(tab => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`py-4 text-sm font-bold border-b-2 whitespace-nowrap transition-colors flex items-center gap-2
                                            ${activeTab === tab.id ? 'border-orange-500 text-orange-600' : 'border-transparent text-slate-500 hover:text-slate-800'}
                                        `}
                                    >
                                        {tab.icon} {tab.label}
                                    </button>
                                ))}
                            </nav>
                        </div>
                    </div>

                    {/* Main Content */}
                    <main className="max-w-6xl mx-auto px-4 py-8 animate-in">
                        
                        {/* TAB: OVERVIEW */}
                        {activeTab === 'overview' && (
                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="space-y-6">
                                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                                        <h3 className="text-xl font-bold text-slate-700 mb-4 flex items-center gap-2">
                                            <Thermometer className="text-red-500" /> 기존 난방의 문제점
                                        </h3>
                                        <ul className="space-y-3 text-slate-600">
                                            <li className="flex gap-3 items-start p-2 bg-slate-50 rounded">
                                                <span className="text-red-500 font-bold mt-1">×</span>
                                                <span>대형 보일러 단독 가동으로 온도 편차가 심하여 작물 생육 불균형 초래</span>
                                            </li>
                                            <li className="flex gap-3 items-start p-2 bg-slate-50 rounded">
                                                <span className="text-red-500 font-bold mt-1">×</span>
                                                <span>하우스 외곽 지면이 얼어 한파가 내부로 침투 (냉해 발생)</span>
                                            </li>
                                            <li className="flex gap-3 items-start p-2 bg-slate-50 rounded">
                                                <span className="text-red-500 font-bold mt-1">×</span>
                                                <span>단일 비닐 구조로 인한 열 손실 및 난방비 부담</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <div className="bg-orange-50 p-6 rounded-2xl border border-orange-200">
                                        <h3 className="text-xl font-bold text-orange-800 mb-4 flex items-center gap-2">
                                            <Sun className="text-orange-600" /> 본 발명의 해결책
                                        </h3>
                                        <ul className="space-y-3 text-orange-900">
                                            <li className="flex gap-3 items-start">
                                                <span className="bg-orange-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs mt-1">1</span>
                                                <span><strong>다중 보일러 순환:</strong> 여러 대의 소형 보일러를 교대로 가동하여 일정한 온도 유지 및 에너지 절감</span>
                                            </li>
                                            <li className="flex gap-3 items-start">
                                                <span className="bg-orange-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs mt-1">2</span>
                                                <span><strong>이중 골조 공기층:</strong> 내부/외부 프레임 사이에 공기층(20a)을 형성하여 보온 효과 극대화</span>
                                            </li>
                                            <li className="flex gap-3 items-start">
                                                <span className="bg-orange-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs mt-1">3</span>
                                                <span><strong>지중 온수 라인:</strong> 하우스 양 측면 땅속에 온수관을 매설하여 결빙 차단</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div className="bg-white p-8 rounded-2xl shadow-lg border border-slate-100 flex flex-col justify-center items-center text-center">
                                    <div className="w-24 h-24 bg-orange-100 rounded-full flex items-center justify-center mb-6 text-orange-500 animate-pulse">
                                        <Activity size={48} />
                                    </div>
                                    <h2 className="text-2xl font-bold mb-4 text-slate-800">"끊김 없는 정밀 난방"</h2>
                                    <p className="text-slate-500 leading-relaxed mb-6">
                                        하나가 멈추면, 이미 예열된 다음 보일러가 즉시 가동됩니다.<br/>
                                        <span className="text-orange-600 font-bold">연속적 난방 프로세스</span>로 비닐하우스 내부 온도를 <br/>
                                        항상 최적의 상태로 유지합니다.
                                    </p>
                                </div>
                            </div>
                        )}

                        {/* TAB: STRUCTURE */}
                        {activeTab === 'structure' && (
                            <div className="grid lg:grid-cols-3 gap-8">
                                {/* Component List */}
                                <div className="lg:col-span-1 space-y-4">
                                    <h3 className="font-bold text-slate-700 flex items-center gap-2">
                                        <Layers size={20}/> 주요 구성요소
                                    </h3>
                                    <div className="space-y-2">
                                        {Object.entries(partsData).map(([key, part]) => (
                                            <div key={key} className="p-4 rounded-xl border border-slate-200 bg-white hover:border-orange-300 transition-colors">
                                                <div className="flex justify-between items-center mb-1">
                                                    <span className="font-bold text-slate-800">{part.name}</span>
                                                    <span className="text-xs bg-slate-100 px-2 py-0.5 rounded text-slate-500 font-mono">{key}</span>
                                                </div>
                                                <p className="text-xs text-slate-500">{part.desc}</p>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="bg-slate-800 text-white p-4 rounded-xl text-xs mt-4">
                                        * 도면의 <strong>'가동 시뮬레이션'</strong> 버튼을 눌러 보일러의 순차적 작동 방식을 확인하세요.
                                    </div>
                                </div>

                                {/* Interactive Diagram */}
                                <div className="lg:col-span-2">
                                    <SchematicDiagram />
                                </div>
                            </div>
                        )}

                        {/* TAB: LOGIC (Process) */}
                        {activeTab === 'logic' && (
                            <div className="space-y-8">
                                <h3 className="text-center font-bold text-xl text-slate-700 mb-8">보일러 순차 제어 알고리즘</h3>
                                <div className="grid md:grid-cols-4 gap-4">
                                    {[
                                        { step: "1", title: "가동 (Run)", desc: "설정 온도 도달 시까지 전자변을 열고 온수 공급" },
                                        { step: "2", title: "차단 (Stop)", desc: "설정 온도 이하로 떨어지면 가동 중지 및 전자변 폐쇄" },
                                        { step: "3", title: "예열 (Preheat)", desc: "다음 가동을 위해 대기 상태에서 미리 예열 시작" },
                                        { step: "4", title: "교대 (Switch)", desc: "이미 예열된 다음 보일러(Next)가 즉시 바통을 이어받아 가동" }
                                    ].map((item, idx) => (
                                        <div key={idx} className="bg-white p-6 rounded-xl border border-orange-100 shadow-sm relative overflow-hidden group hover:-translate-y-1 transition-transform">
                                            <div className="absolute top-0 right-0 bg-orange-100 text-orange-600 px-3 py-1 rounded-bl-xl font-bold text-xs">Step {item.step}</div>
                                            <div className="w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center mb-4 text-slate-600 group-hover:bg-orange-500 group-hover:text-white transition-colors">
                                                <Activity size={20}/>
                                            </div>
                                            <h4 className="font-bold text-lg mb-2">{item.title}</h4>
                                            <p className="text-sm text-slate-500">{item.desc}</p>
                                        </div>
                                    ))}
                                </div>

                                <div className="bg-blue-50 border border-blue-100 p-6 rounded-2xl flex items-start gap-4">
                                    <div className="bg-white p-3 rounded-full text-blue-600 shadow-sm mt-1">
                                        <Thermometer size={24}/>
                                    </div>
                                    <div>
                                        <h4 className="font-bold text-blue-900 text-lg">지능형 온도/시간 제어</h4>
                                        <p className="text-blue-800 text-sm mt-1 leading-relaxed">
                                            각 보일러에는 <strong>온도제어장치</strong>와 <strong>시간제어장치</strong>가 개별 부착되어 있습니다. 
                                            데이터를 분석하여 최적의 타이밍에 가동/중지/예열을 반복하며, 
                                            불필요한 전력 소모를 차단합니다.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* TAB: EFFECT */}
                        {activeTab === 'effect' && (
                            <div className="grid md:grid-cols-3 gap-6 animate-in">
                                <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-all">
                                    <div className="text-orange-500 mb-4">
                                        <Sun size={32} />
                                    </div>
                                    <h3 className="font-bold text-lg text-slate-800 mb-2">에너지 효율 극대화</h3>
                                    <p className="text-slate-600 text-sm">
                                        태양광 패널을 통해 축열하고, 다중 보일러의 효율적 제어로 난방비를 획기적으로 절감합니다.
                                    </p>
                                </div>

                                <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-all">
                                    <div className="text-blue-500 mb-4">
                                        <Layers size={32} />
                                    </div>
                                    <h3 className="font-bold text-lg text-slate-800 mb-2">단열 및 내구성 향상</h3>
                                    <p className="text-slate-600 text-sm">
                                        이중 골조 사이의 공기층(Air Layer)이 자연 단열재 역할을 하며, 각파이프 구조로 비닐 고정력을 높였습니다.
                                    </p>
                                </div>

                                <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-all">
                                    <div className="text-red-500 mb-4">
                                        <Thermometer size={32} />
                                    </div>
                                    <h3 className="font-bold text-lg text-slate-800 mb-2">균일한 작물 생육</h3>
                                    <p className="text-slate-600 text-sm">
                                        지중 매설 파이프로 가장자리 냉해를 방지하고, 내부 온도를 일정하게 유지하여 작물이 고르게 성장합니다.
                                    </p>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer */}
                    <footer className="bg-slate-900 text-slate-400 py-10 mt-12 text-center text-sm">
                        <div className="max-w-6xl mx-auto px-4">
                            <p className="mb-2">본 브로슈어는 '다중 보일러를 이용한 비닐하우스의 난방시스템' 특허 명세서(10-2667124)를 기반으로 제작되었습니다.</p>
                            <p>&copy; 2025 Patent Visualization Assistant.</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GreenhouseSystem />);
    </script>
</body>
</html>