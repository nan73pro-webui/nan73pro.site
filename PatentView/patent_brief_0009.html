<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>벌크 탱크 맨홀 자동개폐장치 - 디지털 특허 브로슈어</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-in { animation: fadeIn 0.5s ease-out forwards; }
        
        .transition-all-custom { transition: all 1s ease-in-out; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Icons ---
        const Truck = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>;
        const Cogs = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>;

        const ManholeSystem = () => {
            const [activeTab, setActiveTab] = useState('overview');
            const [selectedPart, setSelectedPart] = useState(null);
            const [step, setStep] = useState(0); // 0:Locked, 1:Unlocked, 2:ArmsOpen, 3:LidOpen

            const patentInfo = {
                title: "벌크 탱크 맨홀 자동개폐장치",
                englishTitle: "Automatic Manhole Opening Device",
                summary: "탱크로리 상부 작업을 자동화하여 추락 사고를 방지합니다. 에어챔버로 잠금을 해제하고, 실린더로 로크아암을 벌린 뒤, 감속기 모터로 뚜껑을 여는 완전 자동 시스템입니다.",
                keywords: ["안전사고방지", "에어챔버", "자동화", "BCT차량"]
            };

            const partsData = {
                "120": {
                    id: "120",
                    name: "에어챔버 (Air Chamber)",
                    desc: "잠금 해제의 핵심 장치",
                    detail: "뚜껑 중앙에 위치하며, 공압을 이용해 누름판(130)을 수직으로 들어 올려 로크아암의 고정을 해제합니다."
                },
                "110": {
                    id: "110",
                    name: "실린더부 (Cylinder Unit)",
                    desc: "로크아암 회전 장치",
                    detail: "잠금이 풀린 로크아암(103b, 103c)을 바깥쪽으로 밀어내어 뚜껑이 열릴 공간을 만듭니다."
                },
                "140": {
                    id: "140",
                    name: "감속기부 (Reducer Motor)",
                    desc: "뚜껑 개폐 동력원",
                    detail: "강력한 모터와 감속기(143)를 이용해 힌지 축을 회전시켜 무거운 맨홀 뚜껑을 들어 올립니다."
                },
                "150": {
                    id: "150",
                    name: "감시카메라 (CCTV)",
                    desc: "실시간 모니터링",
                    detail: "운전석에서 맨홀의 개폐 상태를 실시간으로 확인할 수 있게 하여 오작동 사고를 예방합니다."
                }
            };

            // --- Control Logic ---
            const nextStep = () => setStep(prev => Math.min(prev + 1, 3));
            const prevStep = () => setStep(prev => Math.max(prev - 1, 0));
            const reset = () => setStep(0);

            // --- Schematic SVG ---
            const SchematicDiagram = () => {
                const lidTransform = step === 3 ? "rotate(-45deg)" : "rotate(0deg)";
                
                return (
                    <div className="relative w-full h-96 bg-slate-800 rounded-xl border border-slate-700 overflow-hidden flex items-center justify-center shadow-2xl">
                        {/* Status Overlay */}
                        <div className="absolute top-4 left-4 z-10 flex gap-2">
                             <span className={`px-2 py-1 rounded text-xs font-bold ${step === 0 ? 'bg-red-500 text-white' : 'bg-slate-700 text-slate-400'}`}>1. 잠금</span>
                             <span className={`px-2 py-1 rounded text-xs font-bold ${step === 1 ? 'bg-yellow-500 text-black' : 'bg-slate-700 text-slate-400'}`}>2. 해제</span>
                             <span className={`px-2 py-1 rounded text-xs font-bold ${step === 2 ? 'bg-blue-500 text-white' : 'bg-slate-700 text-slate-400'}`}>3. 아암회전</span>
                             <span className={`px-2 py-1 rounded text-xs font-bold ${step === 3 ? 'bg-green-500 text-white' : 'bg-slate-700 text-slate-400'}`}>4. 개방</span>
                        </div>

                        {/* Controls */}
                        <div className="absolute bottom-4 right-4 z-20 flex gap-2">
                            <button onClick={reset} className="px-3 py-1 bg-slate-600 text-white rounded hover:bg-slate-500 text-xs">Reset</button>
                            <button onClick={prevStep} className="px-3 py-1 bg-slate-600 text-white rounded hover:bg-slate-500 text-xs">Prev</button>
                            <button onClick={nextStep} className="px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-500 font-bold text-xs">Next Step ▶</button>
                        </div>

                        <svg viewBox="0 0 500 400" className="w-full h-full max-w-lg">
                            <defs>
                                <radialGradient id="tankGrad" cx="50%" cy="50%" r="50%">
                                    <stop offset="0%" stopColor="#475569" />
                                    <stop offset="100%" stopColor="#1e293b" />
                                </radialGradient>
                            </defs>

                            <ellipse cx="250" cy="250" rx="200" ry="80" fill="url(#tankGrad)" />
                            <ellipse cx="250" cy="230" rx="80" ry="30" fill="#334155" stroke="#cbd5e1" strokeWidth="2" />
                            <ellipse cx="250" cy="230" rx="70" ry="25" fill="#0f172a" />

                            <g style={{ transformOrigin: '170px 230px', transform: lidTransform, transition: 'transform 1s' }}>
                                <ellipse cx="250" cy="230" rx="80" ry="30" fill="#cbd5e1" stroke="#64748b" strokeWidth="2" />
                                <ellipse cx="250" cy="225" rx="60" ry="20" fill="none" stroke="#94a3b8" strokeDasharray="4" />
                                
                                <g onClick={() => setSelectedPart(partsData["120"])} className="cursor-pointer hover:opacity-80">
                                    <rect x="230" y="200" width="40" height="30" fill="#3b82f6" stroke="#1d4ed8" rx="5" />
                                    <text x="250" y="220" fontSize="10" fill="white" textAnchor="middle">120</text>
                                </g>

                                <g style={{ transform: step >= 1 ? 'translateY(-15px)' : 'translateY(0)', transition: 'transform 0.5s' }}>
                                    <rect x="220" y="230" width="60" height="5" fill="#ef4444" />
                                </g>
                            </g>

                            <g onClick={() => setSelectedPart(partsData["140"])} className="cursor-pointer hover:opacity-80">
                                <rect x="130" y="200" width="40" height="40" fill="#475569" stroke="#cbd5e1" />
                                <rect x="170" y="220" width="30" height="10" fill="#64748b" />
                                <text x="150" y="225" fontSize="10" fill="white" textAnchor="middle">140</text>
                            </g>

                            <g style={{ transformOrigin: '330px 230px', transform: step >= 2 ? 'rotate(45deg)' : 'rotate(0deg)', transition: 'transform 1s' }}>
                                <rect x="300" y="225" width="60" height="8" fill="#fbbf24" stroke="#d97706" rx="4" />
                                <rect x="340" y="200" width="10" height="40" fill="#64748b" />
                            </g>
                             <g style={{ transformOrigin: '250px 280px', transform: step >= 2 ? 'translateY(20px)' : 'translateY(0)', transition: 'transform 1s' }}>
                                <rect x="245" y="250" width="10" height="40" fill="#fbbf24" stroke="#d97706" rx="4" />
                            </g>

                             <g onClick={() => setSelectedPart(partsData["150"])} className="cursor-pointer">
                                <line x1="400" y1="200" x2="400" y2="150" stroke="#cbd5e1" strokeWidth="2" />
                                <rect x="390" y="140" width="20" height="15" fill="#0f172a" />
                                <circle cx="400" cy="147" r="3" fill="red" className="animate-pulse" />
                             </g>
                        </svg>
                        <div className="absolute bottom-4 left-4 text-slate-400 text-xs">
                            * 도면 3을 기반으로 재구성. 단계별 버튼을 눌러보세요.
                        </div>
                    </div>
                );
            };

            return (
                /* 수정: pb-20 제거하고 flex, flex-col 적용. 
                   이렇게 하면 Footer가 콘텐츠 내용에 따라 자연스럽게 하단에 위치하고 불필요한 여백이 제거됩니다. 
                */
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 flex flex-col">
                    {/* Header */}
                    <header className="bg-gradient-to-r from-blue-900 to-slate-800 text-white shadow-xl border-b-4 border-blue-500">
                        <div className="max-w-6xl mx-auto px-4 py-10">
                            <div className="flex flex-col md:flex-row items-start md:items-end justify-between gap-4">
                                <div>
                                    <div className="flex items-center gap-2 mb-2">
                                        <span className="bg-blue-600 text-white px-2 py-0.5 rounded text-xs font-bold">INDUSTRIAL AUTO</span>
                                        <span className="text-slate-400 text-xs">등록특허 10-2641837</span>
                                    </div>
                                    <h1 className="text-3xl md:text-4xl font-bold mb-2">{patentInfo.title}</h1>
                                    <h2 className="text-sm text-slate-400 font-mono mb-4">{patentInfo.englishTitle}</h2>
                                    <p className="text-slate-300 max-w-2xl leading-relaxed">
                                        {patentInfo.summary}
                                    </p>
                                </div>
                                <div className="flex gap-2">
                                    {patentInfo.keywords.map((kw, i) => (
                                        <span key={i} className="px-3 py-1 bg-white/10 rounded-full text-xs border border-white/20">#{kw}</span>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Navigation */}
                    <div className="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
                        <div className="max-w-6xl mx-auto px-4">
                            <nav className="flex space-x-8">
                                <button onClick={() => setActiveTab('overview')} className={`py-4 text-sm font-bold border-b-2 transition-colors ${activeTab === 'overview' ? 'border-blue-600 text-blue-700' : 'border-transparent text-slate-500'}`}>시스템 개요</button>
                                <button onClick={() => setActiveTab('structure')} className={`py-4 text-sm font-bold border-b-2 transition-colors ${activeTab === 'structure' ? 'border-blue-600 text-blue-700' : 'border-transparent text-slate-500'}`}>구조 및 작동</button>
                                <button onClick={() => setActiveTab('effect')} className={`py-4 text-sm font-bold border-b-2 transition-colors ${activeTab === 'effect' ? 'border-blue-600 text-blue-700' : 'border-transparent text-slate-500'}`}>효과 분석</button>
                            </nav>
                        </div>
                    </div>

                    {/* Main Content: flex-grow 추가하여 콘텐츠가 적을 때 Footer를 하단으로 밈 */}
                    <main className="max-w-6xl mx-auto px-4 py-8 animate-in flex-grow w-full">
                        
                        {/* TAB: OVERVIEW */}
                        {activeTab === 'overview' && (
                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="space-y-6">
                                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                                        <h3 className="text-xl font-bold text-slate-800 mb-4 flex items-center gap-2">
                                            <span className="text-red-500 font-bold">⚠️</span> 기존 수동 방식의 위험
                                        </h3>
                                        <ul className="space-y-3 text-slate-600">
                                            <li className="flex gap-3 items-start">
                                                <span className="text-red-500 font-bold mt-1">×</span>
                                                <span>탱크 상부에서 미끄러짐 및 낙상 사고 빈번</span>
                                            </li>
                                            <li className="flex gap-3 items-start">
                                                <span className="text-red-500 font-bold mt-1">×</span>
                                                <span>잔류 공기 압력으로 인해 뚜껑 개방 시 부상 위험</span>
                                            </li>
                                            <li className="flex gap-3 items-start">
                                                <span className="text-red-500 font-bold mt-1">×</span>
                                                <span>수동 조작으로 인한 작업 시간 지연</span>
                                            </li>
                                        </ul>
                                    </div>
                                    
                                    <div className="bg-blue-50 p-6 rounded-2xl border border-blue-100">
                                        <h3 className="text-xl font-bold text-blue-900 mb-4 flex items-center gap-2">
                                            <span className="text-blue-600 font-bold">✨</span> 본 발명의 자동화 솔루션
                                        </h3>
                                        <ul className="space-y-3 text-blue-800">
                                            <li className="flex gap-3 items-start">
                                                <span className="bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs mt-1">1</span>
                                                <span><strong>완전 무인화:</strong> 운전석에서 버튼 하나로 개폐 가능</span>
                                            </li>
                                            <li className="flex gap-3 items-start">
                                                <span className="bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs mt-1">2</span>
                                                <span><strong>공압/전동 하이브리드:</strong> 에어챔버(잠금해제) + 모터(개방)의 안정적 조합</span>
                                            </li>
                                            <li className="flex gap-3 items-start">
                                                <span className="bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs mt-1">3</span>
                                                <span><strong>탱크 보호:</strong> 무리한 압력을 가하지 않는 자연스러운 개폐 방식</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div className="bg-slate-800 text-white p-8 rounded-2xl shadow-lg flex flex-col justify-center items-center text-center">
                                    <Truck size={64} className="text-blue-400 mb-6" />
                                    <h2 className="text-2xl font-bold mb-4">"스마트 BCT의 시작"</h2>
                                    <p className="text-slate-300 leading-relaxed">
                                        작업자는 안전한 운전석에 계십시오.<br/>
                                        맨홀 개폐는 시스템이 알아서 수행합니다.
                                    </p>
                                </div>
                            </div>
                        )}

                        {/* TAB: STRUCTURE */}
                        {activeTab === 'structure' && (
                            <div className="grid lg:grid-cols-3 gap-8">
                                <div className="lg:col-span-1 space-y-4">
                                    <h3 className="font-bold text-slate-700 flex items-center gap-2">
                                        <Cogs size={20}/> 주요 부품
                                    </h3>
                                    <div className="space-y-2">
                                        {Object.values(partsData).map((part) => (
                                            <button
                                                key={part.id}
                                                onClick={() => setSelectedPart(part)}
                                                className={`w-full text-left p-4 rounded-xl border transition-all ${selectedPart?.id === part.id ? 'border-blue-500 bg-blue-50 ring-1 ring-blue-500' : 'border-slate-200 hover:bg-white bg-slate-50'}`}
                                            >
                                                <div className="flex justify-between items-center mb-1">
                                                    <span className="font-bold text-slate-800">{part.name}</span>
                                                    <span className="text-xs bg-slate-200 px-2 py-0.5 rounded text-slate-500">{part.id}</span>
                                                </div>
                                                <p className="text-xs text-slate-500 truncate">{part.desc}</p>
                                            </button>
                                        ))}
                                    </div>
                                    {selectedPart && (
                                        <div className="mt-4 p-4 bg-slate-800 text-white rounded-xl animate-in">
                                            <strong className="block text-blue-400 mb-2">{selectedPart.name}</strong>
                                            <p className="text-sm text-slate-300 leading-relaxed">{selectedPart.detail}</p>
                                        </div>
                                    )}
                                </div>
                                <div className="lg:col-span-2 h-full">
                                    <SchematicDiagram />
                                </div>
                            </div>
                        )}

                        {/* TAB: EFFECT */}
                        {activeTab === 'effect' && (
                            <div className="space-y-8">
                                <h3 className="text-xl font-bold text-center">자동 개폐 프로세스 효과</h3>
                                <div className="grid md:grid-cols-3 gap-6">
                                    <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-md">
                                        <div className="w-10 h-10 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-3 font-bold">1</div>
                                        <h4 className="font-bold mb-2">잠금 해제 (Unlock)</h4>
                                        <p className="text-sm text-slate-600">중앙 에어챔버가 상승하며 누름판을 들어올립니다. 기존 나사 방식보다 10배 빠릅니다.</p>
                                    </div>
                                    <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-md">
                                        <div className="w-10 h-10 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center mb-3 font-bold">2</div>
                                        <h4 className="font-bold mb-2">공간 확보 (Swing)</h4>
                                        <p className="text-sm text-slate-600">실린더가 작동하여 로크아암을 측면으로 벌립니다. 뚜껑이 열릴 경로를 확보합니다.</p>
                                    </div>
                                    <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-md">
                                        <div className="w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-3 font-bold">3</div>
                                        <h4 className="font-bold mb-2">개방 (Open)</h4>
                                        <p className="text-sm text-slate-600">감속기 모터가 강력한 힘으로 뚜껑을 들어 올립니다. 부드럽고 안전하게 열립니다.</p>
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    <footer className="bg-slate-900 text-slate-400 py-10 mt-12 text-center text-sm">
                        <div className="max-w-6xl mx-auto px-4">
                            <p className="mb-2">본 자료는 '벌크 탱크의 맨홀 자동개폐장치' 특허 명세서(10-2023-0104472)를 시각화한 것입니다.</p>
                            <p>&copy; 2025 Patent Visualization Assistant.</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ManholeSystem />);
    </script>
</body>
</html>